(this["webpackJsonpe-prerecruitment-test"]=this["webpackJsonpe-prerecruitment-test"]||[]).push([[0],{43:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(35),c=n.n(s),r=n(14),i=n(2),o=n(3),l=n(5),d=n(7),u=n(8),j=n(4),h=(n(43),n(15)),b=n.n(h),m=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return b.a.post("https://sheltered-meadow-71757.herokuapp.com/login/user",{email:e,password:t}).then((function(e){return e.data.token&&(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("user_id",JSON.stringify(e.data))),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("user_id")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"getCurrentUserID",value:function(){return JSON.parse(localStorage.getItem("user_id"))}}]),e}()),O=n(36),v=n.n(O),g=n(22),p=n.n(g),x=n(37),f=n.n(x),N=n(0),y=function(e){if(!e)return Object(N.jsx)("span",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},w=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleLogin=a.handleLogin.bind(Object(l.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(l.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(l.a)(a)),a.state={email:"",password:"",loading:!1,message:""},a}return Object(o.a)(n,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?m.login(this.state.email,this.state.password).then((function(){t.props.history.push("/dashboard"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:n})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{className:"col-md-14",children:Object(N.jsxs)("div",{className:"card card-container card-outline card-primary",children:[Object(N.jsx)("div",{class:"card-header text-center",children:Object(N.jsxs)(r.b,{to:"/#",className:"h2",children:[Object(N.jsx)("b",{children:"e"}),"|prerecruitment"]})}),Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsx)("p",{class:"login-box-msg",children:"Sign in to start your session"}),this.state.message&&Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(N.jsxs)(v.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(N.jsx)("div",{class:"input-group mb-3",children:Object(N.jsxs)("div",{class:"input-group-append",children:[Object(N.jsx)(p.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[y]}),Object(N.jsx)("div",{class:"input-group-text",children:Object(N.jsx)("span",{class:"fas fa-envelope"})})]})}),Object(N.jsx)("div",{class:"input-group mb-3",children:Object(N.jsxs)("div",{class:"input-group-append",children:[Object(N.jsx)(p.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[y]}),Object(N.jsx)("div",{class:"input-group-text",children:Object(N.jsx)("span",{class:"fas fa-lock"})})]})}),Object(N.jsx)("div",{class:"row",children:Object(N.jsx)("div",{class:"col-md-12",children:Object(N.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[Object(N.jsx)("span",{children:"Sign In"}),this.state.loading&&Object(N.jsx)("span",{className:"spinner-border spinner-border-sm"})]})})}),Object(N.jsx)(f.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})]})})}}]),n}(a.Component),k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).logOut=a.logOut.bind(Object(l.a)(a)),a.state={currentUser:void 0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();console.log("USER::",e),e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){m.logout()}},{key:"render",value:function(){var e=this.state.currentUser;return Object(N.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-light",children:[Object(N.jsx)("ul",{className:"navbar-nav",children:Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",children:Object(N.jsx)("i",{className:"fas fa-bars"})})})}),e?Object(N.jsx)("div",{className:"navbar-nav ml-auto mr-3",children:Object(N.jsxs)("li",{className:"nav-item dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle","data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false",children:e.name}),Object(N.jsxs)("div",{className:"dropdown-menu",children:[Object(N.jsx)("a",{className:"dropdown-item",href:"/profile",children:"Profile"}),Object(N.jsx)("div",{className:"dropdown-divider"}),Object(N.jsx)("a",{href:"/login",className:"dropdown-item",onClick:this.logOut,children:"Logout"})]})]})}):Object(N.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(r.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(r.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]})}}]),n}(a.Component),_=b.a.create({baseURL:"https://sheltered-meadow-71757.herokuapp.com",headers:{"Content-type":"application/json"}});function C(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var S=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"count",value:function(){return _.get("/admin/dashboard",{headers:C()})}}]),e}()),I=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).count=a.count.bind(Object(l.a)(a)),a.state={count_admin:0,count_user:0,count_category:0,count_question:0,count_answer:0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.count()}},{key:"count",value:function(){var e=this;S.count().then((function(t){e.setState({count_admin:t.data.count_admin,count_user:t.data.count_user,count_category:t.data.count_category,count_question:t.data.count_question,count_answer:t.data.count_answer}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(N.jsxs)("div",{className:"content-wrapper",children:[Object(N.jsx)("div",{className:"content-header",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)("div",{className:"row mb-2",children:Object(N.jsx)("div",{className:"col-sm-6",children:Object(N.jsx)("h1",{className:"m-0",children:"Welcome"})})})})}),Object(N.jsx)("section",{className:"content",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-lg-12 col-12",children:Object(N.jsx)("div",{className:"small-box bg-warning",children:Object(N.jsx)("div",{className:"inner",children:Object(N.jsx)("a",{href:"/questions",children:Object(N.jsxs)("p",{className:"text-center",children:["Take a Test ",Object(N.jsx)("i",{className:"fas fa-arrow-circle-right"})]})})})})})})})})]})}}]),n}(a.Component),U=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).logOut=a.logOut.bind(Object(l.a)(a)),a.state={currentUser:void 0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){m.logout()}},{key:"render",value:function(){var e=this.state.currentUser;return Object(N.jsxs)("aside",{className:"main-sidebar sidebar-light-primary elevation-4",children:[Object(N.jsxs)("a",{href:"/admin",className:"brand-link",children:[Object(N.jsx)("img",{src:"/assets/dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",className:"brand-image img-circle elevation-3",style:{opacity:".8"}}),Object(N.jsx)("span",{className:"brand-text font-weight-light",children:"e-psikotest"})]}),Object(N.jsx)("div",{className:"sidebar",children:Object(N.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(N.jsx)("div",{className:"image",children:Object(N.jsx)("img",{src:"/assets/dist/img/user5-128x128.jpg",className:"img-circle elevation-2",alt:"User"})}),e?Object(N.jsx)("div",{className:"info",children:e.name}):Object(N.jsx)("div",{className:"info",children:Object(N.jsx)("a",{href:"/login",className:"d-block",children:"admin"})})]})})]})}}]),n}(a.Component),D=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsxs)("footer",{className:"main-footer",children:[Object(N.jsxs)("strong",{children:["Copyright \xa9 2014-2019 ",Object(N.jsx)("a",{href:"http://adminlte.io",children:"AdminLTE.io"}),"."]}),"All rights reserved.",Object(N.jsxs)("div",{className:"float-right d-none d-sm-inline-block",children:[Object(N.jsx)("b",{children:"Version"})," 3.0.0"]})]})})}}]),n}(a.Component),L=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={content:""},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"wrapper",children:[Object(N.jsx)(k,{}),Object(N.jsx)(U,{}),Object(N.jsx)(I,{}),Object(N.jsx)(D,{})]})}}]),n}(a.Component),A="https://sheltered-meadow-71757.herokuapp.com",q=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return _.get("/user/question",{headers:C()})}},{key:"saveHistoryOld",value:function(e,t,n,a){return b.a.post(A+"/user/history",{data:[{category_id:parseInt(e),question_id:parseInt(t),answer_id:parseInt(n),user_id:parseInt(a)}]},{headers:C()})}},{key:"saveHistory",value:function(e,t){var n=[];e.forEach((function(e){n.push({answer_id:parseInt(e),user_id:parseInt(t)})}));var a=JSON.stringify(n);return b.a.post(A+"/user/historyV2",{data:JSON.parse(a)},{headers:C()})}}]),e}()),E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).retrieveQuestion=a.retrieveQuestion.bind(Object(l.a)(a)),a.getUserID=a.getUserID.bind(Object(l.a)(a)),a.onChangeAnswer=a.onChangeAnswer.bind(Object(l.a)(a)),a.saveHistory=a.saveHistory.bind(Object(l.a)(a)),a.state={questions:[],answer_id:[],user_id:0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.retrieveQuestion(),this.getUserID()}},{key:"onChangeAnswer",value:function(e){this.setState({answer_id:this.state.answer_id.concat([e.target.value])})}},{key:"retrieveQuestion",value:function(){var e=this;q.getAll().then((function(t){e.setState({questions:t.data})})).catch((function(e){console.log(e)}))}},{key:"getUserID",value:function(){var e=m.getCurrentUserID();e&&this.setState({user_id:e.user_id})}},{key:"saveHistory",value:function(){var e=this;q.saveHistory(this.state.answer_id,this.state.user_id).then((function(t){e.props.history.push("/dashboard"),window.location.reload()})).catch((function(e){alert("sorry, something's wrong.."),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.questions;return Object(N.jsxs)("div",{children:[Object(N.jsx)(k,{}),Object(N.jsx)(U,{}),Object(N.jsx)("section",{className:"content-wrapper",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-sm-9",children:Object(N.jsx)("h3",{className:"card-title ",children:"Daftar Pertanyaan"})})})}),Object(N.jsxs)("div",{className:"card-body p-0",children:[t.map((function(t,n){return Object(N.jsxs)("p",{"data-index":n,children:[Object(N.jsxs)("p",{children:[n+1,".",Object(N.jsx)("div",{children:Object(N.jsx)("b",{children:t.category_value})})]}),Object(N.jsx)("div",{children:t.question_value}),Object(N.jsxs)("select",{className:"form-control",onChange:e.onChangeAnswer,children:[Object(N.jsx)("option",{children:"Pilih Jawaban"}),t.answers_list&&t.answers_list.map((function(e){return Object(N.jsx)("option",{value:e.answer_id,children:e.answer_value})}))]})]})})),Object(N.jsx)("button",{onClick:this.saveHistory,className:"btn btn-block btn-success btn-sm",children:"Submit"})]})]})})})})}),Object(N.jsx)(D,{})]})}}]),n}(a.Component),J=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).logOut=a.logOut.bind(Object(l.a)(a)),a.state={showAdminBoard:!1,currentUser:void 0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){m.logout()}},{key:"render",value:function(){return Object(N.jsx)("div",{className:"wrapper",children:Object(N.jsx)("div",{children:Object(N.jsxs)(j.d,{children:[Object(N.jsx)(j.b,{exact:!0,path:["/","/login"],component:w}),Object(N.jsx)(j.b,{path:"/dashboard",component:L}),Object(N.jsx)(j.b,{exact:!0,path:"/questions",component:E}),Object(N.jsx)(j.a,{exact:!0,from:"/",to:"/login"}),Object(N.jsx)(j.b,{path:"/login",component:w})]})})})}}]),n}(a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};c.a.render(Object(N.jsx)(r.a,{children:Object(N.jsx)(J,{})}),document.getElementById("root")),P()}},[[73,1,2]]]);
//# sourceMappingURL=main.ea34781c.chunk.js.map